create table tb_cadastro (id int8 generated by default as identity, bairro varchar(255), cep varchar(255), complemento varchar(255), cpf varchar(255), data_de_nascimento timestamp, email varchar(50), localidade varchar(255), logradouro varchar(255), nome varchar(255), numero int8, uf varchar(255), primary key (id));
create table tb_objeto (id int8 generated by default as identity, bairro_onde_objeto_foi_encontrado varchar(255), descricao_do_objeto varchar(255), moment timestamp, status_do_objeto varchar(255), updated_at TIMESTAMP WITHOUT TIME ZONE, primary key (id));
create table tb_role (id int8 generated by default as identity, authority varchar(255), primary key (id));
create table tb_solicitacao (id int8 generated by default as identity, moment timestamp, cadastro_do_dono_do_objeto_id int8, primary key (id));
create table tb_solicitacao_objeto (solicitacao_id int8 not null, objeto_id int8 not null, primary key (solicitacao_id, objeto_id));
create table tb_user (id int8 generated by default as identity, email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), primary key (id));
create table tb_user_role (user_id int8 not null, role_id int8 not null, primary key (user_id, role_id));
alter table if exists tb_cadastro add constraint UK_381id2x65bnnta9me0tlwce7c unique (cpf);
alter table if exists tb_cadastro add constraint UK_8bqyjoqm2m8q7peklgtrv9jpg unique (email);
alter table if exists tb_user add constraint UK_4vih17mube9j7cqyjlfbcrk4m unique (email);
alter table if exists tb_solicitacao add constraint FKib8k163rqxpau8nkgkya5dqb4 foreign key (cadastro_do_dono_do_objeto_id) references tb_cadastro;
alter table if exists tb_solicitacao_objeto add constraint FKrs9l3ymy4sshc0db7206b5rkp foreign key (objeto_id) references tb_objeto;
alter table if exists tb_solicitacao_objeto add constraint FKleeycye3iaiqfxllu1d2lxpou foreign key (solicitacao_id) references tb_solicitacao;
alter table if exists tb_user_role add constraint FKea2ootw6b6bb0xt3ptl28bymv foreign key (role_id) references tb_role;
alter table if exists tb_user_role add constraint FK7vn3h53d0tqdimm8cp45gc0kl foreign key (user_id) references tb_user;
